(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1077:function(e,t,n){"use strict";n.r(t);n(5);var i=n(4),o=n.n(i),r=n(0),a=n.n(r),s=n(80),c=n(51),l=n(21),u=n(208),d=n(1),p=n.n(d),g=n(90),f=n.n(g),h=n(109),m=n(107),v=n(2),b=n.n(v),E=b()(h.TransitionGroup,null,"ContainerTransitionGroup",n(1020),"container-transition-group","containerTransitionGroup"),w=b()("div",null,"PortfolioSlideContainer",n(1021),"portfolio-slide-container","portfolioSlideContainer"),y=b()("div",null,"SliderBackground",n(1022),"slider-background","sliderBackground"),x=b()("h2",null,"Title",n(1023),"title","title"),S=b()("p",null,"Description",n(1024),"description","description"),C=b()("div",null,"Content",n(1025),"content","content"),T=b()("h1",null,"MobileTitle",n(1026),"mobile-title","mobileTitle"),k=b()("div",null,"ScreenshotTransitionGroup",n(1027),"screenshot-transition-group","screenshotTransitionGroup"),R=b()("img",null,"Screenshot",n(1028),"screenshot","screenshot"),j=b()("div",null,"LongreadBackground",n(1029),"longread-background","longreadBackground"),B=n(1030),O=n(1031),L=n(1032),M=n(6),z=n.n(M),N=n(1092),I=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=this.props,t=e.screenshots,n=e.isNext,i=e.text,o=e.status,r=e.direction,s=e.id,c=[r>0?N.c[o]:N.b[o],n?N.e[o]:N.d[o]];return a.a.createElement(k,null,a.a.createElement(R,{isMobileMsp:"mobileMsp"===s,className:z.a.apply(void 0,c),src:t,alt:i}))},t}(r.Component);I.propTypes={isNext:p.a.bool};var D=n(43),P=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=this.props,t=e.status,n=e.direction,i=e.description,o=e.title,r=e.text;return a.a.createElement(C,{className:z()(n>0?N.g[t]:N.f[t],N.a[t],N.h[t])},a.a.createElement(x,{as:"h2"},o||r),a.a.createElement(S,null,i||"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam eaque eligendi iusto labore nisi quas."),a.a.createElement(D.a,{white:!0},"Подробнее"))},t}(r.Component);P.propTypes={text:p.a.string,description:p.a.string,direction:p.a.number,title:p.a.string,status:p.a.string};var A=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={flag:!1,hovered:!1},t}return o()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.description,i=e.id,o=e.title,r=e.text,a=e.images,s=e.projectBackgroundColor;return t.flag?null:{flag:!0,projectBackgroundColor:s,images:a,id:i,description:n,title:o,text:r}},t.prototype.render=function(){var e=this,t=this.state,n=t.id,i=t.description,o=t.title,r=t.text,s=t.images,c=t.projectBackgroundColor,l=t.hovered,u=this.props,d=u.id,p=u.goToLongread,g=u.onContainerRef,f=u.sectionDirection,h=u.status,m=u.up,v=u.down,b=u.transitionEnd,E=u.onResize,x=u.onExited,S=n===d,C=f>0,T=C?{entering:{transform:"translateY("+v+"px)"},exiting:{transform:"translateY(-"+v+"px)"}}:{entering:{transform:"translateY(-"+m+"px)"},exiting:{transform:"translateY("+m+"px)"}},k=[C?O[h]:L[h],!S&&N.a[h],B[h]];return a.a.createElement(w,{style:Object.assign({},T[h]),className:z.a.apply(void 0,k),willChange:b,onClick:p,ref:g,onMouseOver:function(){return e.setState({hovered:!0})},onMouseOut:function(){return e.setState({hovered:!1})},onTransitionEnd:function(e){"transform"===e.propertyName&&e.elapsedTime>=.4&&(E(),x())}},a.a.createElement(y,{hovered:l,style:{background:c}}),a.a.createElement(I,{id:n,isNext:S,status:h,direction:f,text:r,screenshots:s}),a.a.createElement(P,{status:h,direction:f,title:o,text:r,description:i}))},t}(r.Component);A.propTypes={goToLongread:p.a.func,onContainerRef:p.a.func,selectedSectionIndex:p.a.number,sections:p.a.arrayOf(p.a.object),up:p.a.number,down:p.a.number,transitionEnd:p.a.bool};var G=n(278),Y=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={id:null,goToLongread:!1,images:[],top:0,up:0,down:0,left:0,width:0,height:0},n.onResize=function(){return n.setState(n.getSlideBoundingClientRect())},n.getSlideBoundingClientRect=function(){if(n.slide){var e=n.slide.getBoundingClientRect(),t=e.top,i=e.left,o=e.width,r=e.height,a=e.bottom,s=t+window.scrollY,c=i+window.scrollX;return{top:Math.round(s),left:Math.round(c),width:Math.round(o),height:Math.round(r),up:Math.round(s+r),down:Math.round(window.innerHeight-a+r)}}},n.setImages=function(){var e=n.props,t=e.sections,i=e.ratio,o=[];t.forEach(function(e){var t=e.screenshots;Array.isArray(t)?t.forEach(function(e){return o.push(e[i])}):o.push(t[i])}),n.setState({images:o})},n.goToLongread=function(){var e=n.props,t=e.navigate,i=e.id;n.setState({goToLongread:!0},function(){setTimeout(function(){t("/"+i)},200)})},n.onContainerRef=function(e){e&&(n.slide=e)},n.onResize=f()(n.onResize,200),n}o()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.onResize(),this.setImages(),window.addEventListener("resize",this.onResize)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize)},n.getSnapshotBeforeUpdate=function(e,t){return this.getSlideBoundingClientRect()},n.componentDidUpdate=function(e,t,n){var i=e.transitionEnd,o=this.props.transitionEnd;i!==o&&o&&this.setState(n)},n.render=function(){var e=this,t=this.state,n=t.top,i=t.down,o=t.up,r=t.left,s=t.width,c=t.height,l=t.goToLongread,u=t.images,d=this.props,p=d.projectBackgroundColor,g=d.id,f=d.screenshots,v=d.ratio,b=Array.isArray(f)?f.map(function(e){return e[v]}):f[v];return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{images:u}),a.a.createElement(E,null,a.a.createElement(h.Transition,{key:g+"-portfolio-slide-animation",timeout:{enter:0,exit:400}},function(t){return a.a.createElement(A,Object.assign({},e.props,{status:t,onResize:e.onResize,onContainerRef:e.onContainerRef,goToLongread:e.goToLongread,images:b,up:o,down:i}))})),"undefined"!=typeof window&&a.a.createElement(G.a,null,a.a.createElement(j,{goToLongread:l,style:{background:p,top:l?0:n,left:l?0:r,width:l?"100vw":s,height:l?"100vh":c}})))},t}(r.Component);Y.propTypes={projectBackgroundColor:p.a.string,text:p.a.string,description:p.a.string,screenshots:p.a.oneOfType([p.a.arrayOf(p.a.object),p.a.object]),id:p.a.string,onSectionChange:p.a.func,selectedSectionIndex:p.a.number,sections:p.a.arrayOf(p.a.object),title:p.a.string,parentTitle:p.a.string,sectionDirection:p.a.number,navigate:p.a.func,transitionEnd:p.a.bool,direction:p.a.number,lastSectionIndex:p.a.number,onExited:p.a.func};var U=n(92),q=n(63),F=b()(U.a,null,"Main",n(1033),"main","main"),J=b()(q.a,null,"LeftSide",n(1034),"left-side","leftSide"),W=b()(q.a,null,"Rightside",n(1035),"rightside","rightside"),H=n(1036),X=n(133),K=n(271),Q=n(205);n.d(t,"PortfolioWithLayout",function(){return Z});var V=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=this.props,t=e.location,n=e.navigate,i=e.isPortfolioPage,o=e.selectedSectionIndex,r=e.onSectionChange,c=e.sectionDirection,d=e.transitionEnd,p=e.direction,g=e.status,f=e.disableBackgroundTransition,h=e.lastSectionIndex,m=e.onExited,v=e.routes,b=Object(l.d)(t,v).sections,E=b[h||o];return a.a.createElement(F,null,a.a.createElement(s.a,{className:X.a.russiaBackground,style:{transitionDuration:f&&"20ms"},status:g,location:t}),a.a.createElement(J,{className:Object(q.b)(g,p)},a.a.createElement(T,null,E&&E.parentTitle),a.a.createElement(u.a,{isPortfolioPage:i(),className:H.menu,selectedId:E&&E.id,onSectionChange:r,leftSide:!0,additionalMenu:b,isOpen:!0})),a.a.createElement(W,{className:Object(q.b)(g,p)},a.a.createElement(Y,Object.assign({ratio:Object(Q.a)(),onExited:m,lastSectionIndex:h,transitionEnd:d,sectionDirection:c,direction:p,sections:b,selectedSectionIndex:o,onSectionChange:r,navigate:n},E))))},t}(r.Component),Z=function(e){return a.a.createElement(c.a,null,function(t){return a.a.createElement(V,Object.assign({},e,t))})},$=Object(K.a)(Z);t.default=$},1092:function(e,t,n){"use strict";n.d(t,"h",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"g",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u});var i=n(820),o=n(821),r=n(822),a=n(823),s=(n(824),n(825),n(826)),c=n(827),l=n(828),u=n(829)}}]);
//# sourceMappingURL=component---src-pages-portfolio-index-js-5e6ad652b875a610ac42.js.map