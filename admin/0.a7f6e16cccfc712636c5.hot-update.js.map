{"version":3,"file":"0.a7f6e16cccfc712636c5.hot-update.js","sources":["webpack:///./src/components/CmsPreviewContainer/CmsPreviewContainer.js","webpack:///./src/components/injectGlobals.js","webpack:///./node_modules/react-fastclick/src/index.js","webpack:///./src/components/News/Article/Article.js","webpack:///./src/cms/preview-templates/AboutPagePreview.js","webpack:///./src/components/OutsideLink/OutsideLink.js"],"sourcesContent":["import React, { Component } from \"react\";\n\nimport { Viewport, Container } from '../../styles/cms';\n\nexport class PreviewContainer extends Component {\n  state = {\n    width: 0,\n    height: 0,\n  };\n\n  componentDidMount() {\n    this.updateSize();\n    this.interval = setInterval(() => this.updateSize(), 444);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  updateSize = () => {\n    const { width, height } = this.state;\n    if (this.container) {\n      const { width: w, height: h } = this.container.getBoundingClientRect();\n      if (width !== w || height !== h) {\n        this.setState({ width: Math.round(w), height: Math.round(h) });\n      }\n    }\n  };\n\n  onRef = ref => {\n    if (ref) {\n      this.container = ref;\n    }\n  };\n\n  render() {\n    const { width, height } = this.state;\n    const { children, ...props } = this.props;\n\n    return (\n      <>\n        <Viewport>\n          {width}x{height}\n        </Viewport>\n        <Container ref={this.onRef} {...props}>\n          {children}\n        </Container>\n      </>\n    );\n  }\n}\n","\nimport initReactFastclick from \"react-fastclick\";\n\nexport const injectGlobals = () => {\n  initReactFastclick();\n\n  return require('./injectGlobals-injectGlobals.module.scss');\n};\n","'use strict';\n\n(function () {\n  var getReactFCInitializer = function (React) {\n    return function initializeReactFastclick () {\n      var originalCreateElement = React.createElement;\n\n      // Moved if Math.abs(downX - upX) > MOVE_THRESHOLD;\n      var MOVE_THRESHOLD = 8;\n      var TOUCH_DELAY = 1000;\n\n      var touchKeysToStore = [\n        'clientX',\n        'clientY',\n        'pageX',\n        'pageY',\n        'screenX',\n        'screenY',\n        'radiusX',\n        'radiusY'\n      ];\n\n      var touchEvents = {\n        downPos: {},\n        lastPos: {}\n      };\n\n      var isDisabled = function (element) {\n        if (!element) {\n          return false;\n        }\n        var disabled = element.getAttribute('disabled');\n\n        return disabled !== false && disabled !== null;\n      };\n\n      var focus = function (event, target) {\n        var myTarget = target || event.currentTarget;\n\n        if (!myTarget || isDisabled(myTarget)) {\n          return;\n        }\n\n        myTarget.focus();\n      };\n\n      var handleType = {\n        input: function (event) {\n          focus(event);\n          event.stopPropagation();\n        },\n        textarea: function (event) {\n          focus(event);\n          event.stopPropagation();\n        },\n        select: function (event) {\n          focus(event);\n          event.stopPropagation();\n        },\n        label: function (event) {\n          var input;\n\n          var forTarget = event.currentTarget.getAttribute('for');\n\n          if (forTarget) {\n            input = document.getElementById(forTarget);\n          } else {\n            input = event.currentTarget.querySelectorAll('input, textarea, select')[0];\n          }\n\n          if (input) {\n            focus(event, input);\n          }\n        }\n      };\n\n      var fakeClickEvent = function (event) {\n        if (typeof event.persist === 'function') {\n          event.persist();\n        }\n\n        event.fastclick = true;\n        event.type = 'click';\n        event.button = 0;\n      };\n\n      var copyTouchKeys = function (touch, target) {\n        if (typeof target.persist === 'function') {\n          target.persist();\n        }\n\n        if (touch) {\n          for (var i = 0; i < touchKeysToStore.length; i += 1) {\n            var key = touchKeysToStore[i];\n            target[key] = touch[key];\n          }\n        }\n      };\n\n      var noTouchHappened = function () {\n        return !touchEvents.touched && (\n          !touchEvents.lastTouchDate || new Date().getTime() > touchEvents.lastTouchDate + TOUCH_DELAY\n        );\n      };\n\n      var invalidateIfMoreThanOneTouch = function (event) {\n        touchEvents.invalid = event.touches && event.touches.length > 1 || touchEvents.invalid;\n      };\n\n      var onMouseEvent = function (callback, event) {\n        var touched = !noTouchHappened();\n\n        // Prevent mouse events on other elements\n        if (touched && event.target !== touchEvents.target) {\n          event.preventDefault();\n        }\n\n        // Prevent any mouse events if we touched recently\n        if (typeof callback === 'function' && !touched) {\n          callback(event);\n        }\n\n        if (event.type === 'click') {\n          touchEvents.invalid = false;\n          touchEvents.touched = false;\n          touchEvents.moved = false;\n        }\n      };\n\n      var onTouchStart = function (callback, event) {\n        touchEvents.invalid = false;\n        touchEvents.moved = false;\n        touchEvents.touched = true;\n        touchEvents.target = event.target;\n        touchEvents.lastTouchDate = new Date().getTime();\n\n        copyTouchKeys(event.touches[0], touchEvents.downPos);\n        copyTouchKeys(event.touches[0], touchEvents.lastPos);\n\n        invalidateIfMoreThanOneTouch(event);\n\n        if (typeof callback === 'function') {\n          callback(event);\n        }\n      };\n\n      var onTouchMove = function (callback, event) {\n        touchEvents.touched = true;\n        touchEvents.lastTouchDate = new Date().getTime();\n\n        copyTouchKeys(event.touches[0], touchEvents.lastPos);\n\n        invalidateIfMoreThanOneTouch(event);\n\n        if (Math.abs(touchEvents.downPos.clientX - touchEvents.lastPos.clientX) > MOVE_THRESHOLD ||\n          Math.abs(touchEvents.downPos.clientY - touchEvents.lastPos.clientY) > MOVE_THRESHOLD) {\n          touchEvents.moved = true;\n        }\n\n        if (typeof callback === 'function') {\n          callback(event);\n        }\n      };\n\n      var onTouchEnd = function (callback, onClick, type, event) {\n        touchEvents.touched = true;\n        touchEvents.lastTouchDate = new Date().getTime();\n\n        invalidateIfMoreThanOneTouch(event);\n\n        if (typeof callback === 'function') {\n          callback(event);\n        }\n\n        if (!touchEvents.invalid && !touchEvents.moved) {\n          var box = event.currentTarget.getBoundingClientRect();\n\n          if (touchEvents.lastPos.clientX - (touchEvents.lastPos.radiusX || 0) <= box.right &&\n            touchEvents.lastPos.clientX + (touchEvents.lastPos.radiusX || 0) >= box.left &&\n            touchEvents.lastPos.clientY - (touchEvents.lastPos.radiusY || 0) <= box.bottom &&\n            touchEvents.lastPos.clientY + (touchEvents.lastPos.radiusY || 0) >= box.top) {\n\n            if (!isDisabled(event.currentTarget)) {\n              if (typeof onClick === 'function') {\n                copyTouchKeys(touchEvents.lastPos, event);\n                fakeClickEvent(event);\n                onClick(event);\n              }\n\n              if (!event.defaultPrevented && handleType[type]) {\n                handleType[type](event);\n              }\n            }\n          }\n        }\n      };\n\n      var propsWithFastclickEvents = function (type, props) {\n        var newProps = {};\n\n        // Loop over props\n        for (var key in props) {\n          // Copy props to newProps\n          newProps[key] = props[key];\n        }\n\n        // Apply our wrapped mouse and touch handlers\n        newProps.onClick = onMouseEvent.bind(null, props.onClick);\n        newProps.onMouseDown = onMouseEvent.bind(null, props.onMouseDown);\n        newProps.onMouseMove = onMouseEvent.bind(null, props.onMouseMove);\n        newProps.onMouseUp = onMouseEvent.bind(null, props.onMouseUp);\n        newProps.onTouchStart = onTouchStart.bind(null, props.onTouchStart);\n        newProps.onTouchMove = onTouchMove.bind(null, props.onTouchMove);\n        newProps.onTouchEnd = onTouchEnd.bind(null, props.onTouchEnd, props.onClick, type);\n\n        if (typeof Object.freeze === 'function') {\n          Object.freeze(newProps);\n        }\n\n        return newProps;\n      };\n\n      React.createElement = function () {\n        // Convert arguments to array\n        var args = Array.prototype.slice.call(arguments);\n\n        var type = args[0];\n        var props = args[1];\n\n        // Check if basic element & has onClick prop\n        if (type && typeof type === 'string' && (\n          (props && typeof props.onClick === 'function') || handleType[type]\n        )) {\n          // Add our own events to props\n          args[1] = propsWithFastclickEvents(type, props || {});\n        }\n\n        // Apply args to original createElement function\n        return originalCreateElement.apply(null, args);\n      };\n\n      if (typeof React.DOM === 'object') {\n        for (var key in React.DOM) {\n          React.DOM[key] = React.createElement.bind(null, key);\n        }\n      }\n    };\n  };\n\n  /* istanbul ignore next */\n  // Export for commonjs / browserify\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\n    var React = require('react');\n    module.exports = getReactFCInitializer(React);\n  // Export for amd / require\n  } else if (typeof define === 'function' && define.amd) { // eslint-disable-line no-undef\n    define(['react'], function (ReactAMD) { // eslint-disable-line no-undef\n      return getReactFCInitializer(ReactAMD);\n    });\n  // Export globally\n  } else {\n    var root;\n\n    if (typeof window !== 'undefined') {\n      root = window;\n    } else if (typeof global !== 'undefined') {\n      root = global;\n    } else if (typeof self !== 'undefined') {\n      root = self;\n    } else {\n      root = this;\n    }\n\n    root.Reorder = getReactFCInitializer(root.React);\n  }\n})();\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { OutsideLink } from \"../../../components/OutsideLink/OutsideLink\";\nimport styles, { Container, Logo, Title, PublishDate, Description } from \"./styles\";\n\nexport const Article = ({ date, description, link, logo, title }) => {\n  return (\n    <Container>\n      <Logo src={logo} />\n      <Title>{title}</Title>\n      <PublishDate>{date}</PublishDate>\n      <Description>{description}</Description>\n      <OutsideLink href={link} className={styles.read}>\n        Читать\n      </OutsideLink>\n    </Container>\n  );\n};\n\nArticle.propTypes = {\n  date: PropTypes.string,\n  description: PropTypes.string,\n  link: PropTypes.string,\n  logo: PropTypes.string,\n  title: PropTypes.string,\n};\n","import React from \"react\";\nimport cn from \"classnames\";\nimport PropTypes from \"prop-types\";\n\nimport { format } from \"../../utils/date\";\nimport styles from \"../../components/Background/styles\";\nimport { Article } from \"../../components/News/Article/Article\";\nimport { PreviewContainer } from \"../../components/CmsPreviewContainer/CmsPreviewContainer\";\nimport { NewsContainer } from \"../../styles/about\";\nimport { News } from \"../../components/NewsCard/NewsCard\";\nimport { Row } from \"../../styles/cms\";\n\nconst AboutPreview = ({ entry, widgetFor }) => (\n  <PreviewContainer className={cn(styles.default, styles.moscow)}>\n    <Row>\n      <NewsContainer>\n        <News\n          title={entry.getIn([\"data\", \"title\"])}\n          date={entry.getIn([\"data\", \"date\"])}\n          description={entry.getIn([\"data\", \"description\"])}\n          link={entry.getIn([\"data\", \"link\"])}\n          logo={entry.getIn([\"data\", \"logo\"])}\n        />\n      </NewsContainer>\n    </Row>\n    <Row style={{ backgroundColor: \"#fff\", marginTop: \"auto\" }}>\n      <Article\n        title={entry.getIn([\"data\", \"title\"])}\n        date={format(entry.getIn([\"data\", \"date\"]))}\n        description={entry.getIn([\"data\", \"description\"])}\n        link={entry.getIn([\"data\", \"link\"])}\n        logo={entry.getIn([\"data\", \"logo\"])}\n      />\n    </Row>\n  </PreviewContainer>\n);\n\nAboutPreview.propTypes = {\n  entry: PropTypes.shape({\n    getIn: PropTypes.func,\n  }),\n  widgetFor: PropTypes.func,\n};\n\nexport default AboutPreview;\n","import React from \"react\";\nimport styled from \"astroturf\";\nimport PropTypes from \"prop-types\";\n\nconst Link = styled(\"a\", null, \"Link\", require(\"./OutsideLink-Link.module.scss\"), \"link\", \"link\");\n\nconst getUrl = value => {\n  if (!value) {\n    return;\n  }\n\n  const isHttp = value.toString().indexOf(\"http\") === 0;\n  const isWww = value.toString().indexOf(\"www\") === 0;\n\n  return isWww || isHttp ? value : `https://${value}`;\n};\n\nexport const OutsideLink = ({ href, children, ...props }) => (\n  <Link href={getUrl(href)} target=\"_blank\" rel=\"noopener noreferrer\" {...props}>\n    {children}\n  </Link>\n);\n\nOutsideLink.propTypes = {\n  href: PropTypes.string,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAEA;AACA;AAFA;AACA;AAFA;AAeA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAxBA;AA0BA;AACA;AACA;AACA;AACA;AA9BA;AAAA;AACA;AADA;AACA;AADA;AAMA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAVA;AAYA;AACA;AACA;AAdA;AA+BA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AA9CA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AAEA;AACA;AAEA;AACA;;;;;;;;;;AAJA;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAmBA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnRA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;;;;AAdA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdA;AACA;AAwBA;AACA;AACA;AADA;AAGA;AAJA;AAOA;AAAA;;;;;;;;;;AAhCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAMA;AACA;AADA;;;;;;;;;;AAnBA;AAEA;AAWA;;;;;;;;;;;;;A","sourceRoot":""}